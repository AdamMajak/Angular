@if (clan) {
  <h2>{{ clan.name }}</h2>
  <p>{{ clan.description }}</p>

  <h3>Members</h3>
  <ul>
    @for (m of members(); track m.id) {
      <li>
        <span (click)="goToPlayer(m.id)" style="cursor: pointer;">
          {{ m.nickname }} (Level {{ getLevel(m).title }})
        </span>
        <button (click)="$event.stopPropagation(); removePlayer(m.id)">Remove</button>
      </li>
    }
  </ul>

  <h3>Add Player</h3>
  @for (p of players.players(); track p.id) {
    @if (!(clan.members ?? []).includes(p.id)) {
      <button class="add-player" (click)="$event.stopPropagation(); addPlayer(p.id)">
        {{ p.nickname }}
      </button>
    }
  }

  <br /><br />
  <button class="back" (click)="goBack()">‚Üê Back to clans</button>

} @else {
  <p>Clan not found.</p>
  <button (click)="goBack()">Go back</button>
}
